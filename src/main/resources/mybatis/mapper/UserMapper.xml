<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.anymobi.repositories.mybatis.mapper.user.UserMapper" >
	
	<select id="selectUserList" parameterType="user" resultType="user">
		SELECT
			id,
			email,
			passwd,
			username
		FROM users
	</select>

	<select id="selectUser" parameterType="string" resultType="user">
		SELECT 
			id,
			email,
			passwd,
			username

		FROM users
		WHERE id = #{id}
	</select>
	
	<insert id="insertUser" parameterType="user">
		<selectKey keyProperty="id" order="AFTER" resultType="string">SELECT LAST_INSERT_ID()</selectKey>
		INSERT INTO users(
								email,
								passwd,
								username

								)
							VALUE(
								#{email},
								#{passwd},
								#{userName}

								    )
	</insert>
	
	<update id="updateUser" parameterType="user">
		UPDATE users SET
		username = #{userName}
		WHERE id = #{id}
	</update>
	
</mapper>






